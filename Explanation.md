The task is to create a Character Management system where for a gaming app. Users can sign up as well as login with just their emails.
When a user creates an account, they are automatically assigned the Cool Kid role, and they are assigned random chaacter details which includes first name, email, last name, Country and Role.
The lowest character role is Cool Kid role and as a Cool Kid, you can only view your own character details.
There is another role called the Cooler Kid role, as a Cooler kid, you can view your own character details and The First name, Last Name and Country of all users. 
The Highest role level is Coolest Kid, as a character with the Coolest Kid, the user can see all the details of all other characters which will include, First Name, Last name, email, Country and Role.

So I built a plugin called CoolKidsNetwork to handle it. It is a Singleton Class because Singleton classes are best for handling database connection, logging service, or configuration manager. The project involves that.
It is divided into CharacterDataHandler and CoolKidsRoleManager
The CharacterDataHandler class provides a structured way to access and manage character data in a WordPress environment. It helps enforce access control based on the defined user roles (Cool Kid, Cooler Kid and Coolest Kid), 
this allows different visibility of character information as stated earlier depending on whether the user is viewing their own character or another user's character. This helps to control and ensure that sensitive information is only accessible to certain users based on predefined rules.
The CoolKidsRoleManger handles the administrative role management of the plugin ensuring it is easier for the plugin to work effetively.

I also used Custom Post type for character storage, so in addition to other roles like subscriber. I also implemented a three-tiered role system (RBAC) so the plugin can check for each user role.

Technical Implementation Details

1. Account Creation with wp_create_user()
When a new user account is created, the wp_create_user() function is utilized. This function not only adds a new user to the WordPress database but also allows for the generation of a random password to enhance security.
a. Generating a Random Password:
The password is generated using wp_generate_password(), which creates a strong, random password that meets WordPress security standards. This function allows for customization, including password length and complexity.
b. Creating the User:
The wp_create_user() function is then called, passing in the username, the generated password, and the user’s email address. It returns the new user’s ID on success or a WP_Error object on failure.

2. Storing Character Metadata
Once the user account is created, you can associate character data with that user by using the update_post_meta() function. This function stores metadata in the WordPress database, which can be retrieved later for display or modification.
a. Storing Character Information:
Character metadata, such as first name, last name, bio, and other attributes, can be stored using update_post_meta(). This function allows you to specify the character’s post ID (or user ID, depending on your implementation) and the metadata key-value pairs.

3. Implementing Server-Side Nonce Verification
To enhance security during account creation and metadata updates, server-side nonce verification is crucial. Nonces are unique tokens generated by WordPress to protect URLs and forms from misuse.
a. Generating a Nonce:
Use wp_create_nonce() to create a nonce that will be included in the form submission.

4. Handling API/Creation Failures Gracefully
In any application, it's essential to manage potential failures gracefully. This includes handling issues during user creation, character metadata storage, or nonce verification.
Error Handling:
Check for errors after calling wp_create_user(). If an error occurs, capture the message and provide user feedback. Use is_wp_error() to determine if the operation was successful.

Authentication Mechanism
For the Authentication, it was specified that it be passwordless.
So I used Custom authenticate_without_password() Method:
This method allows users to authenticate themselves using only their email address. Instead of entering a password, users simply provide their email, which triggers an email containing a secure login link or a temporary token.
Custom authenticate_without_password() method
Allows login via email without password and bypasses standard WordPress authentication

To create and seperate the roles, I used Role-based access control (RBAC)
Role-based access control (RBAC) is a method of restricting system access to authorized users. It assigns permissions based on user roles, ensuring that users can only access data appropriate to their status.

5.1 User Roles
In this application, three distinct user roles are defined, each with specific access levels as specified

Cool Kid:
Basic Access: This role allows users to view their own character data. They have minimal permissions, fostering a personal experience while ensuring privacy.

Cooler Kid:
Enhanced Access: This role can view the names and countries of other users but has limited access to detailed character information. This promotes a sense of community while protecting sensitive data.

Coolest Kid:
Full Access: This role grants users comprehensive access to all user information, including emails and roles. This could be useful for admins or trusted users within the application who need oversight capabilities.

Access Control Mechanism
The implementation of role-based access control is critical for data security and user privacy. In your application, this is managed through the CharacterDataHandler::get_data() method:

Role-Based Conditional Data Exposure:
The get_data() method checks the user's role and conditionally exposes character data based on the permissions associated with that role. This ensures that users can only access information they are authorized to view.

Prevents Unauthorized Data Access:
By using this method, your application effectively prevents unauthorized access to sensitive information. If a user attempts to access data outside their permission level, the method will return null, denying them access to that data.

